<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />
    <title>WebStack-Hugo 网址导航</title>
    <link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="WebStack-Hugo 网址导航" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="bootstrap-css" href="/assets/css/bootstrap.min-4.3.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="fancybox-css" href="/assets/css/fancybox.min-3.5.7.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />
    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>
    
    <script>
        
        var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?efccc04cb44fc49faddac5876180b369";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        
    </script>
    
    
     
    
    
    
    
</head>


<div class="main-content flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="WebStack-Hugo 网址导航">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="WebStack-Hugo 网址导航">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="WebStack-Hugo 网址导航">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="./">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			<li >
				<a href="https://www.jackssybin.cn/">
                                    <i class="fa fa-book fa-lg mr-2"></i>
                                    <span>作者</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			<li class="menu-item-has-children">
				<a href="">
                                    <i class="fa fa-cog fa-lg mr-2"></i>
                                    <span>配置</span>
                                </a>
				<ul class="sub-menu">
				
				    <li><a href="#">源码</a></li>
				
				    <li><a href="#">图标</a></li>
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "E4C600",
                                        "tmpSize": 14,
                                        "cityColor": "E4C600",
                                        "citySize": 14,
                                        "aqiColor": "#E4C600",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>


<body class="page-body boxed-container">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        <h1 class="mt-5"></h1>
        <div class="content">
            <h2 id="permalink-articles202011101605004504728html">title: Java 逐行读取文本文件的几种方式以及效率对比
date: &lsquo;2020-11-10 18:35:05&rsquo;
updated: &lsquo;2020-11-10 18:36:01&rsquo;
tags: [java行模式读取文件, 读文件效率对比]
permalink: /articles/2020/11/10/1605004504728.html</h2>
<p><img src="https://b3logfile.com/bing/20181015.jpg?imageView2/1/w/960/h/540/interlace/1/q/100" alt=""></p>
<h1 id="先放结果">先放结果</h1>
<p>1000000 行文本读取结果比对:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>BufferedReader 耗时: 49ms
</span></span><span style="display:flex;"><span>Scanner 耗时: 653ms
</span></span><span style="display:flex;"><span>Apache Commons IO 耗时: 44ms
</span></span><span style="display:flex;"><span>InputStreamReader 耗时: 191ms
</span></span><span style="display:flex;"><span>FileInputStream 耗时: 3171ms
</span></span><span style="display:flex;"><span>BufferedInputStream 耗时: 70ms
</span></span><span style="display:flex;"><span>FileUtils 耗时: 46ms
</span></span><span style="display:flex;"><span>Files 耗时: 99ms
</span></span></code></pre></div><p>24488656 行文本读取结果比对:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>BufferedReader 耗时: 989ms
</span></span><span style="display:flex;"><span>Scanner 耗时: 11899ms
</span></span><span style="display:flex;"><span>Apache Commons IO 耗时: 568ms
</span></span><span style="display:flex;"><span>InputStreamReader 耗时: 3377ms
</span></span><span style="display:flex;"><span>FileInputStream 耗时: 78903ms
</span></span><span style="display:flex;"><span>BufferedInputStream 耗时: 1480ms
</span></span><span style="display:flex;"><span>FileUtils 耗时: 16569ms
</span></span><span style="display:flex;"><span>Files 耗时: 25162ms
</span></span></code></pre></div><p>可见, 当文件较小时:</p>
<ul>
<li><code>ApacheCommonsIO 流</code> 表现最佳;</li>
<li><code>FileUtils</code>,<code>BufferedReader</code> 居其二;</li>
<li><code>BufferedInputStream</code>,<code>Files</code> 随其后;</li>
<li><code>InputStreamReader</code>,<code>Scanner</code>,<code>FileInputStream</code> 略慢.</li>
</ul>
<p>当文件较大时, <code>Apache Commons IO 流</code>, <code>BufferedReader</code> 依然出色, <code>Files</code>, <code>FileUtils</code> 速度开始变慢.</p>
<h1 id="简要分析">简要分析</h1>
<p>使用到的工具类包括:</p>
<ul>
<li><code>java.io.BufferedReader</code></li>
<li><code>java.util.Scanner</code></li>
<li><code>org.apache.commons.io.FileUtils</code></li>
<li><code>java.io.InputStreamReader</code></li>
<li><code>java.io.FileInputStream</code></li>
<li><code>java.io.BufferedInputStream</code></li>
<li><code>com.google.common.io.Files</code></li>
</ul>
<p>其中:</p>
<p><code>Apache Commons IO 流</code> 和 <code>BufferedReader</code> 使用到了缓冲区, 所以在不消耗大量内存的情况下提高了处理速度;</p>
<p><code>FileUtils</code> 和 <code>Files</code> 是先把文件内容全部读入内存, 然后在进行操作, 是典型的空间换时间案例. 这种方法可能会大<strong>量消耗内存</strong>, 建议酌情使用;</p>
<p>其他几个工具类本来就不擅长逐行读取, 效率底下也是情理之中.</p>
<h1 id="建议">建议</h1>
<p>在逐行读取文本内容的需求下，建议使用 Apache Commons IO 流，或者 BufferedReader, 既不会过多地占用内存，也保证了优异的处理速度.</p>
<h1 id="附录---源代码">附录 - 源代码:</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> com.google.common.io.Files;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.apache.commons.io.Charsets;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.apache.commons.io.FileUtils;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.apache.commons.io.LineIterator;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Random;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Scanner;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @Description: 逐行读取文件性能对比
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @Date: 19-1-25
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> **/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReadByLineFromFileTest</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>    ReadByLineFromFileTest test <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReadByLineFromFileTest();
</span></span><span style="display:flex;"><span>    String filePath <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;./testFile.txt&#34;</span>;
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// 随机写入 1000000 行内容</span>
</span></span><span style="display:flex;"><span>      test.<span style="color:#a6e22e">writeRandom</span>(filePath, 1000000);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">long</span> before, after, time;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 BufferedReader 逐行读取文件</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">bufferedReader</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;BufferedReader 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 Scanner 逐行读取文件</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">scanner</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Scanner 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 Apache Commons IO 流逐行读取文件</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">apacheCommonsIo</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Apache Commons IO 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 InputStreamReader 逐字符读取文件</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">inputStreamReader</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;InputStreamReader 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 FileInputStream 逐字符读取文件</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">fileInputStream</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;FileInputStream 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 BufferedInputStream 逐字符读取文件</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">bufferedInputStream</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;BufferedInputStream 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 FileUtils 一次性读取文件所有行</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">fileUtils</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;FileUtils 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 使用 Files 一次性读取文件所有行</span>
</span></span><span style="display:flex;"><span>    before <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    test.<span style="color:#a6e22e">files</span>(filePath);
</span></span><span style="display:flex;"><span>    after <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>    time <span style="color:#f92672">=</span> after <span style="color:#f92672">-</span> before;
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Files 耗时: &#34;</span> <span style="color:#f92672">+</span> time <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 Apache Commons IO 流逐行读取文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * Maven 依赖:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;dependency&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;groupId&gt;commons-io&lt;/groupId&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;version&gt;2.6&lt;/version&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;/dependency&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-24
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">apacheCommonsIo</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      LineIterator iterator <span style="color:#f92672">=</span> FileUtils.<span style="color:#a6e22e">lineIterator</span>(file, <span style="color:#e6db74">&#34;UTf-8&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span> (iterator.<span style="color:#a6e22e">hasNext</span>()) {
</span></span><span style="display:flex;"><span>        String line <span style="color:#f92672">=</span> iterator.<span style="color:#a6e22e">nextLine</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// System.out.println(line);</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 Scanner 类逐行读取
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-24
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">scanner</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FileInputStream fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    Scanner scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream(file);
</span></span><span style="display:flex;"><span>      scanner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Scanner(fileInputStream, <span style="color:#e6db74">&#34;UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span> (scanner.<span style="color:#a6e22e">hasNextLine</span>()) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO things</span>
</span></span><span style="display:flex;"><span>        String line <span style="color:#f92672">=</span> scanner.<span style="color:#a6e22e">nextLine</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// System.out.println(line);</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (fileInputStream <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          fileInputStream.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (scanner <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        scanner.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 Files 一次性读取所有行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * Maven 依赖:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;dependency&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;artifactId&gt;guava&lt;/artifactId&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;version&gt;r05&lt;/version&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;/dependency&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-24
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">files</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fileLines <span style="color:#f92672">=</span> Files.<span style="color:#a6e22e">readLines</span>(file, Charsets.<span style="color:#a6e22e">toCharset</span>(<span style="color:#e6db74">&#34;UTF-8&#34;</span>));
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">for</span> (String str : fileLines) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO things</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// System.out.println(str);</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 FileUtils 一次性将文件所有行读入内存
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * Maven 依赖:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;dependency&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;groupId&gt;commons-io&lt;/groupId&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;artifactId&gt;commons-io&lt;/artifactId&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *             &lt;version&gt;2.6&lt;/version&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   *         &lt;/dependency&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-24
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fileUtils</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fileLines <span style="color:#f92672">=</span> FileUtils.<span style="color:#a6e22e">readLines</span>(file, Charsets.<span style="color:#a6e22e">UTF_8</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">for</span> (String str : fileLines) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// System.out.println(str);</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bufferedInputStream</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FileInputStream fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    BufferedInputStream bufferedInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream(file);
</span></span><span style="display:flex;"><span>      bufferedInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedInputStream(fileInputStream);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> temp;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">char</span> character;
</span></span><span style="display:flex;"><span>      String line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span> ((temp <span style="color:#f92672">=</span> bufferedInputStream.<span style="color:#a6e22e">read</span>()) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span>1) {
</span></span><span style="display:flex;"><span>        character <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span>) temp;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (character <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;\n&#39;</span>) {
</span></span><span style="display:flex;"><span>          line <span style="color:#f92672">+=</span> character;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// TODO</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// System.out.println(line);</span>
</span></span><span style="display:flex;"><span>          line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (fileInputStream <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          fileInputStream.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (bufferedInputStream <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          bufferedInputStream.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 FileInputStream 逐字符读取文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fileInputStream</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FileInputStream fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream(file);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> temp;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">char</span> character;
</span></span><span style="display:flex;"><span>      String line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span> ((temp <span style="color:#f92672">=</span> fileInputStream.<span style="color:#a6e22e">read</span>()) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span>1) {
</span></span><span style="display:flex;"><span>        character <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span>) temp;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (character <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;\n&#39;</span>) {
</span></span><span style="display:flex;"><span>          line <span style="color:#f92672">+=</span> character;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// TODO</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// System.out.println(line);</span>
</span></span><span style="display:flex;"><span>          line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (fileInputStream <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          fileInputStream.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 InputStreamReader 逐行读取文件
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">inputStreamReader</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FileInputStream fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    InputStreamReader inputStreamReader <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      fileInputStream <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream(file);
</span></span><span style="display:flex;"><span>      inputStreamReader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> InputStreamReader(fileInputStream);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">int</span> temp;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">char</span> character;
</span></span><span style="display:flex;"><span>      String line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span> ((temp <span style="color:#f92672">=</span> inputStreamReader.<span style="color:#a6e22e">read</span>()) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span>1) {
</span></span><span style="display:flex;"><span>        character <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span>) temp;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (character <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;\n&#39;</span>) {
</span></span><span style="display:flex;"><span>          line <span style="color:#f92672">+=</span> character;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// TODO</span>
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// System.out.println(line);</span>
</span></span><span style="display:flex;"><span>          line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (fileInputStream <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          fileInputStream.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (inputStreamReader <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          inputStreamReader.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 使用 BufferedReader 逐行读取文件内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath] 文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bufferedReader</span>(String filePath) {
</span></span><span style="display:flex;"><span>    File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File(filePath);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>file.<span style="color:#a6e22e">exists</span>()) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FileReader fileReader <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    BufferedReader bufferedReader <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      fileReader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileReader(file);
</span></span><span style="display:flex;"><span>      bufferedReader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(fileReader);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      String line <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span> ((line <span style="color:#f92672">=</span> bufferedReader.<span style="color:#a6e22e">readLine</span>()) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO things</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// System.out.println(line);</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (fileReader <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          fileReader.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (bufferedReader <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          bufferedReader.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Description: 随机往文件中写入 totalLines 行内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Param: [filePath, totalLines] 文件路径, 内容行数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Author: Seven-Steven
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   * @Date: 19-1-23
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">   **/</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">writeRandom</span>(String filePath, <span style="color:#66d9ef">int</span> totalLines) {
</span></span><span style="display:flex;"><span>    RandomAccessFile file <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    Random random <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Random();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RandomAccessFile(filePath, <span style="color:#e6db74">&#34;rw&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">long</span> length <span style="color:#f92672">=</span> file.<span style="color:#a6e22e">length</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> totalLines; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        file.<span style="color:#a6e22e">seek</span>(length);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> number <span style="color:#f92672">=</span> random.<span style="color:#a6e22e">nextInt</span>(1000000);
</span></span><span style="display:flex;"><span>        String line <span style="color:#f92672">=</span> number <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\n&#34;</span>;
</span></span><span style="display:flex;"><span>        file.<span style="color:#a6e22e">writeBytes</span>(line);
</span></span><span style="display:flex;"><span>        length <span style="color:#f92672">+=</span> line.<span style="color:#a6e22e">length</span>();
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (FileNotFoundException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>      e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">finally</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (file <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>          file.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>          e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="参考文献">参考文献:</h1>
<ul>
<li><a href="http://www.cnblogs.com/lovebread/archive/2009/11/23/1609122.html">[Java] 读取文件方法大全**</a> — lovebread</li>
<li><a href="https://blog.csdn.net/fengxingzhe001/article/details/67640083">java 读取文件 API 速度对比**</a> — fengxingzhe001</li>
<li><a href="http://www.importnew.com/14512.html">Java 高效读取大文件**</a> — Eugen Paraschiv [文] / ImportNew - 进林 [译]
<a href="https://blog.diqigan.cn/posts/java-read-file-by-line.html">https://blog.diqigan.cn/posts/java-read-file-by-line.html</a></li>
</ul>

        </div>
    </div>
    </main>

    <style>
        .content {
            font-size: 1.25rem;
          }
          
          .content h1,
          .content h2,
          .content h3,
          .content h4 {
            margin: 15px 10px 5px;
          }
          
    </style>

        <footer class="main-footer footer-type-1 text-xs">
            <div id="footer-tools" class="d-flex flex-column">
                <a href="javascript:" id="go-to-up" class="btn rounded-circle go-up m-1" rel="go-top">
                    <i class="iconfont icon-to-up"></i>
                </a>
                
                <a href="javascript:" data-toggle="modal" data-target="#search-modal" class="btn rounded-circle m-1"
                    rel="search" one-link-mark="yes">
                    <i class="iconfont icon-search"></i>
                </a>
                <a href="https://www.yuque.com/shenweiyan" class="btn rounded-circle kefu m-1" target="_blank" data-toggle="tooltip" data-placement="left" title="联系我们">
                    <i class="mode-ico iconfont icon-qq"></i>
                </a>
                
                
		<a href="javascript:" onclick="window.location.href='javascript:switchNightMode()'" class="btn rounded-circle switch-dark-mode m-1" id="yejian"
                    data-toggle="tooltip" data-placement="left" title="日间模式">
                    <i class="mode-ico iconfont icon-night"></i>
                </a>
                
            </div>
            <div class="footer-inner">
                <div class="footer-text">本站内容源自互联网，如有内容侵犯了你的权益，请联系删除相关内容，联系邮箱：jackxiazhou@yeah.net <br/>© 2023 - 2024 By <a href="https://github.com/shenweiyan/WebStack-Hugo">WebStack-Hugo</a> | <a href="https://www.bioitee.com/">Bio IT 爱好者</a> | <a href="http://beian.miit.gov.cn/">京ICP备17039180号-1</a><br/></div>
            </div>
        </footer>
    </div>
</div>


<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-mini.js' id='appmini-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background-image", "url(assets\/images\/bg-dna.jpg)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background-image", "url(assets\/images\/bg-dna.jpg)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background-image", "url(assets\/images\/bg-dna.jpg)")
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>
</body>
</html>

