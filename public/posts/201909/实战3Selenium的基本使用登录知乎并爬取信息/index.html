<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />
    <title>WebStack-Hugo 网址导航</title>
    <link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="WebStack-Hugo 网址导航" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="bootstrap-css" href="/assets/css/bootstrap.min-4.3.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="fancybox-css" href="/assets/css/fancybox.min-3.5.7.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />
    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>
    
    <script>
        
        var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?efccc04cb44fc49faddac5876180b369";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        
    </script>
    
    
     
    
    
    
    
</head>


<div class="main-content flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="WebStack-Hugo 网址导航">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="WebStack-Hugo 网址导航">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="WebStack-Hugo 网址导航">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="./">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			<li >
				<a href="https://www.jackssybin.cn/">
                                    <i class="fa fa-book fa-lg mr-2"></i>
                                    <span>作者</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			<li class="menu-item-has-children">
				<a href="">
                                    <i class="fa fa-cog fa-lg mr-2"></i>
                                    <span>配置</span>
                                </a>
				<ul class="sub-menu">
				
				    <li><a href="#">源码</a></li>
				
				    <li><a href="#">图标</a></li>
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "E4C600",
                                        "tmpSize": 14,
                                        "cityColor": "E4C600",
                                        "citySize": 14,
                                        "aqiColor": "#E4C600",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>


<body class="page-body boxed-container">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        <h1 class="mt-5"></h1>
        <div class="content">
            <h2 id="permalink-articles201909161568647646783html">title: 实战3Selenium的基本使用-登录知乎并爬取信息
date: &lsquo;2019-09-04 20:53:19&rsquo;
updated: &lsquo;2019-09-17 16:11:52&rsquo;
tags: [python实战, scrapy]
permalink: /articles/2019/09/16/1568647646783.html</h2>
<p><img src="https://img.hacpai.com/bing/20180204.jpg?imageView2/1/w/960/h/540/interlace/1/q/100" alt=""></p>
<h6 id="由于-javascript-动态渲染的页面不止-ajax-这一种有些网站获取数据并不包含ajax请求有些网站是对-ajax-进行加密处理为了解决这写问题我们可以直接使用模拟浏览器运行的方式来实现这样就可以做到在浏览器中看到是什么样抓取的源码就是什么样也就可见即可抓">由于 JavaScript 动态渲染的页面不止 Ajax 这一种，有些网站获取数据并不包含Ajax请求，有些网站是对 Ajax 进行加密处理；为了解决这写问题，我们可以直接使用模拟浏览器运行的方式来实现，这样就可以做到在浏览器中看到是什么样，抓取的源码就是什么样，也就可见即可抓。</h6>
<h6 id="python提供了许多模拟浏览器运行的库如-seleniumsplashpyv8ghost-等我们接下来以-selenium为例那么要使用的话我们就必须要做相应的安装这里要注意一点的是由于我们操作的是-谷歌浏览器因此再使用这个库之前必须要先安装好-谷歌浏览器以及操作浏览器的驱动执行文件">Python提供了许多模拟浏览器运行的库，如 Selenium、Splash、PyV8、Ghost 等；我们接下来以 Selenium为例，那么要使用的话我们就必须要做相应的安装，这里要注意一点的是由于我们操作的是 谷歌浏览器，因此再使用这个库之前必须要先安装好 谷歌浏览器以及操作浏览器的驱动执行文件。</h6>
<p>一、操作前准备
安装谷歌浏览器
通过命令安装库：pip install selenium
下载谷歌浏览器驱动并配置环境变量 <a href="http://npm.taobao.org/mirrors/chromedriver/">http://npm.taobao.org/mirrors/chromedriver/</a>
二、基本操作
自动打开百度首页并休眠几秒钟后自动关闭</p>
<pre tabindex="0"><code>from selenium import webdriver
import time
<p>driver = webdriver.Chrome() # 创建实例
driver.get(&quot;http://www.baidu.com&quot;) # 请求百度首页
time.sleep(6)   # 睡眠六秒
driver.quit()   # 退出浏览器
</code></pre><p>执行代码后即可看到如下效果：</p></p>
<p><img src="https://upload-images.jianshu.io/upload_images/10590983-0f0cfa7e10900f88.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/929/format/webp" alt="null">
接下来我们以一下网页操作为例子（代码中有详细的注释）,先看网页效果：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10590983-ffa6637a8e848e7f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/588/format/webp" alt="null"></p>
<p>操作代码如下(注：操作的组件即属性的话在源码中查看)：</p>
<pre tabindex="0"><code>```objectivec
from selenium import webdriver
import time
<h1 id="driver--webdriverchrome----创建实例">driver = webdriver.Chrome()   # 创建实例</h1>
<h1 id="driverget34httpwwwbaiducom34--请求百度首页">driver.get(&quot;http://www.baidu.com&quot;) # 请求百度首页</h1>
<h1 id="timesleep6--睡眠六秒">time.sleep(6) # 睡眠六秒</h1>
<h1 id="driverquit--退出浏览器">driver.quit() # 退出浏览器</h1>
<h1 id="browser--webdriverchrome">browser = webdriver.Chrome()</h1>
<h1 id="browserget34https3416230579githubiopageindexhtml34">browser.get(&quot;https://3416230579.github.io/page/index.html&quot;)</h1>
<h1 id="操作一">操作一</h1>
<p>#elemt = browser.find_element_by_id(&quot;element_id&quot;) #根据 id 获取对象</p>
<h1 id="elemt--browserfind_element_by_name34element_id34-根据-name-获取对象">elemt = browser.find_element_by_name(&quot;element_id&quot;) #根据 name 获取对象</h1>
<h1 id="printelemttag_name-返回标签名">print(elemt.tag_name) #返回标签名</h1>
<h1 id="printelemttext-返回标签的值">print(elemt.text) #返回标签的值</h1>
<h1 id="elemtsend_keys34哈哈哈34给标签输入值">elemt.send_keys(&quot;哈哈哈&quot;)#给标签输入值</h1>
<h1 id="操作二">操作二</h1>
<h1 id="elemt--browserfind_element_by_link_text34find_element_by_link_text34">elemt = browser.find_element_by_link_text(&quot;find_element_by_link_text&quot;)</h1>
<h1 id="printelemttag_name-返回标签名-1">print(elemt.tag_name) #返回标签名</h1>
<h1 id="printelemttext-返回标签的值-1">print(elemt.text) #返回标签的值</h1>
<h1 id="elemtclick点击">elemt.click()#点击</h1>
<h1 id="操作三">操作三</h1>
<h1 id="利用-css选择器-获取-class39highlight39-标签对象并自动填值">利用 css选择器 获取 class='highlight' 标签对象并自动填值</h1>
<h1 id="elemt--browserfind_element_by_css_selector34highlight34">elemt = browser.find_element_by_css_selector(&quot;.highlight&quot;)</h1>
<h1 id="elemtsend_keys34啦啦啦34">elemt.send_keys(&quot;啦啦啦&quot;)</h1>
<h1 id="-利用-xpath-获取-id39xpathname39-标签对象并自动填值"># 利用 xpath 获取 id='xpathname' 标签对象并自动填值</h1>
<h1 id="elemt--browserfind_element_by_xpathr39id34xpathname3439">elemt = browser.find_element_by_xpath(r'//*[@id=&quot;xpathname&quot;]')</h1>
<h1 id="elemtsend_keys34我的-xpath34">elemt.send_keys(&quot;我的 xpath&quot;)</h1>
<h1 id="操作四">操作四</h1>
<h1 id="获取跳转后页面的源码">获取跳转后页面的源码</h1>
<h1 id="timesleep2">time.sleep(2)</h1>
<h1 id="elemt--browserfind_element_by_link_text34find_element_by_link_text34-1">elemt = browser.find_element_by_link_text(&quot;find_element_by_link_text&quot;)</h1>
<h1 id="elemtclick">elemt.click()</h1>
<h1 id="browserswitch_to_windowbrowserwindow_handles1">browser.switch_to_window(browser.window_handles[1])</h1>
<h1 id="printbrowserpage_source">print(browser.page_source)</h1>
<h1 id="操作五">操作五</h1>
<h1 id="操作弹出框">操作弹出框</h1>
<h1 id="timesleep2-1">time.sleep(2)</h1>
<h1 id="elem--browserfind_element_by_tag_name34button34">elem = browser.find_element_by_tag_name(&quot;button&quot;)</h1>
<h1 id="elemclick">elem.click()</h1>
<h1 id="timesleep2-2">time.sleep(2)</h1>
<h1 id="browserswitch_to_alertaccept---切换到弹出框操作">browser.switch_to_alert().accept()  # 切换到弹出框操作</h1>
<h1 id="操作六">操作六</h1>
<h1 id="跳转和回退操作">跳转和回退操作</h1>
<h1 id="timesleep2-3">time.sleep(2)</h1>
<h1 id="elem--browserfind_element_by_link_text34forward_back34">elem = browser.find_element_by_link_text(&quot;forward_back&quot;)</h1>
<h1 id="elemclick---点击跳转">elem.click()  # 点击跳转</h1>
<h1 id="timesleep1">time.sleep(1)</h1>
<h1 id="browserback---点击回退">browser.back()  # 点击回退</h1>
<h1 id="timesleep2-4">time.sleep(2)</h1>
<h1 id="browserforward---调到上一次点击">browser.forward()  # 调到上一次点击</h1>
<h1 id="timesleep1-1">time.sleep(1)</h1>
<h1 id="browserback---回退">browser.back()  # 回退</h1>
<h1 id="操作七">操作七</h1>
<h1 id="cookies-的操作">Cookies 的操作</h1>
<h1 id="browser--webdriverchrome-1">browser = webdriver.Chrome()</h1>
<h1 id="browserget34httpswwwbaiducom34">browser.get(&quot;https://www.baidu.com&quot;)</h1>
<h1 id="printbrowserget_cookies--输出全部的-cookie-的信息">print(browser.get_cookies()) # 输出全部的 cookie 的信息</h1>
<h1 id="添加一个-cookie">添加一个 cookie</h1>
<h1 id="browseradd_cookie34name3434luchangyin34-34domian3434wwwbaiducom3434value3434肥牛冲天34">browser.add_cookie({&quot;name&quot;:&quot;luchangyin&quot;, &quot;domian&quot;:&quot;www.baidu.com&quot;,&quot;value&quot;:&quot;肥牛冲天&quot;})</h1>
<h1 id="printbrowserget_cookies">print(browser.get_cookies())</h1>
<h1 id="browserdelete_all_cookies---全部删除">browser.delete_all_cookies()  # 全部删除</h1>
<h1 id="printbrowserget_cookies-1">print(browser.get_cookies())</h1>
<h1 id="操作八">操作八</h1>
<h1 id="自动打开百度并根据关键字搜索相关的内容">自动打开百度并根据关键字搜索相关的内容</h1>
<p>from selenium.webdriver.common.keys import Keys</p>
<p>browser = webdriver.Chrome()
browser.get(&quot;https://www.baidu.com&quot;)
elem = browser.find_element_by_id(&quot;kw&quot;)
elem.send_keys(&quot;python爬虫&quot;)  # 输入
time.sleep(2)  # 休眠
elem.send_keys(Keys.RETURN)  # 回车</p>
<p>time.sleep(3)
browser.quit() # 关闭
</code></pre><p><strong>三、实战 - 登录知乎并爬取信息</strong>
1）先看观察登录界面的标签规律：
<img src="https://img.hacpai.com/file/2019/09/105909836825e1f1384fb0a3-685251c3.jpg" alt="105909836825e1f1384fb0a3.jpg"></p></p>
<p>2）导入我们所需要的所有包：</p>
<pre tabindex="0"><code>from selenium import webdriver
import time
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.common.exceptions import TimeoutException, NoSuchElementException
</code></pre><p>3)根据效果图编写登录代码：</p>
<pre tabindex="0"><code># 声明浏览器对象
<p>browser = webdriver.Chrome()
browser.get(&quot;https://www.zhihu.com/signin&quot;)</p>
<p>def login_zhihu(browser):
try:
#获取登录用户名
elem = browser.find_element_by_name(&quot;username&quot;)
elem.clear()  # 清空
elem.send_keys(&quot;用户名&quot;)  # 自动填值
elem.send_keys(Keys.RETURN)#回车</p>
<pre><code>    time.sleep(3)

    #获取登录密码
    elem = browser.find_element_by_name(&amp;#34;password&amp;#34;)
    elem.clear()
    elem.send_keys(&amp;#34;密码&amp;#34;)
    elem.send_keys(Keys.RETURN)#回车

    time.sleep(2)

    print(&amp;#34;开始登陆...&amp;#34;)
    #Button SignFlow-submitButton Button--primary Button--blue
    elem = browser.find_element_by_css_selector(&amp;#34;.Button.SignFlow-submitButton.Button--primary.Button--blue&amp;#34;)
    #elem = browser.find_element_by_xpath(r&amp;#39;//button[@class=&amp;#34;Button SignFlow-submitButton Button--primary Button--blue&amp;#34;]&amp;#39;)
    elem.click()

    print(&amp;#34;开始休眠...&amp;#34;)
    #显示等待   选择“首页”选项
    element = WebDriverWait(browser, 15).until(EC.title_contains(u&amp;#39;首页&amp;#39;))
    print(&amp;#34;已选择...&amp;#34;)

except TimeoutException:
    print(&amp;#34;Time Out&amp;#34;)
except NoSuchElementException:
    print(&amp;#34;No Element&amp;#34;)
</code></pre>
<p></code></pre><p>观察登陆后的页面：</p></p>
<p><img src="https://upload-images.jianshu.io/upload_images/10590983-306f996c2c70e5f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1106/format/webp" alt="null">
获取代码如下:</p>
<pre tabindex="0"><code># url 去重
<p>urls = set()</p>
<p>def get_information(browser):
print(&quot;开始获取信息。。。&quot;)
elems = browser.find_elements_by_css_selector(&quot;.ContentItem-title&quot;)
for elem in elems:
link_elem = elem.find_element_by_tag_name(&quot;a&quot;)
if link_elem.text in urls:
pass
else:
print(link_elem.text)  # 标题
print(link_elem.get_attribute(&quot;href&quot;))  # 链接
urls.add(link_elem.get_attribute(&quot;href&quot;))
</code></pre><p>6）将进度条自动下拉到最底部实现 js 的加载：</p></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 滚动加载</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">scroll_load</span>(browser):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#利用 execute_script() 方法将进度条下拉到最底部</span>
</span></span><span style="display:flex;"><span>    browser<span style="color:#f92672">.</span>execute_script(<span style="color:#e6db74">&#34;window.scrollTo(0, document.body.scrollHeight);&#34;</span>)
</span></span><span style="display:flex;"><span>    browser<span style="color:#f92672">.</span>implicitly_wait(<span style="color:#ae81ff">2</span>)  <span style="color:#75715e"># 隐式等待</span>
</span></span></code></pre></div><p>7）编写主函数并调用：</p>
<pre tabindex="0"><code># 主主函数
def main():
    login_zhihu(browser)  # 登录函数
    for i in range(3):  #滚动三次
        get_information(browser)  # 获取标题与链接
        scroll_load(browser)  # 滚动
        time.sleep(1)  # 休眠
<h1 id="函数入口调用">函数入口调用</h1>
<p>if <strong>name</strong> == '<strong>main</strong>':
main()</p>
<pre><code>input(&amp;#34;按任意键退出-&amp;gt; &amp;#34;)
browser.quit()
</code></pre>
<p></code></pre><p>运行结果如下：</p></p>
<p><img src="https://upload-images.jianshu.io/upload_images/10590983-61c95e459dd0d747.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/642/format/webp" alt="null">
8）当使用有界面爬取少量页面信息的方式还好，但是爬取很多页面的话那可就不好了-太多弹出窗口页面，值得注意的是： 从 Chrome 59 开始已经开始支持 Headless 模式，即无界面模式，这样爬取的时候就无需弹出浏览器界面了，接下来我们简单的去使用以下：</p>
<pre tabindex="0"><code>chrome_options = webdriver.ChromeOptions()  # 获取 ChromeOptions 对象
chrome_options.add_argument(&#39;--headless&#39;)  # 添加 headless 参数
browser = webdriver.Chrome(chrome_options=chrome_options)  # 初始化 Chrome 对象
browser.get(r&#34;http://www.baidu.com/&#34;)
<h1 id="截屏">截屏</h1>
<p>browser.get_screenshot_as_file(&quot;C:\Users\Administrator\Desktop\aaa\daima\lcy.jpg&quot;)
html = browser.page_source  # 这里是源码，接下来就可以使用 正则 或者 xpath 表达式解析了
print(&quot;成功提取源码-&gt; &quot;, html)
</code></pre><p>执行程序之后输出源码的同时在制定的地址中可以看到截取的图片，效果如下：</p></p>
<p><img src="https://upload-images.jianshu.io/upload_images/10590983-4f010b9d11c74697.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="null"></p>
<p>参考:<a href="https://www.jianshu.com/p/a1a64f649472">https://www.jianshu.com/p/a1a64f649472</a></p>

        </div>
    </div>
    </main>

    <style>
        .content {
            font-size: 1.25rem;
          }
          
          .content h1,
          .content h2,
          .content h3,
          .content h4 {
            margin: 15px 10px 5px;
          }
          
    </style>

        <footer class="main-footer footer-type-1 text-xs">
            <div id="footer-tools" class="d-flex flex-column">
                <a href="javascript:" id="go-to-up" class="btn rounded-circle go-up m-1" rel="go-top">
                    <i class="iconfont icon-to-up"></i>
                </a>
                
                <a href="javascript:" data-toggle="modal" data-target="#search-modal" class="btn rounded-circle m-1"
                    rel="search" one-link-mark="yes">
                    <i class="iconfont icon-search"></i>
                </a>
                <a href="https://www.yuque.com/shenweiyan" class="btn rounded-circle kefu m-1" target="_blank" data-toggle="tooltip" data-placement="left" title="联系我们">
                    <i class="mode-ico iconfont icon-qq"></i>
                </a>
                
                
		<a href="javascript:" onclick="window.location.href='javascript:switchNightMode()'" class="btn rounded-circle switch-dark-mode m-1" id="yejian"
                    data-toggle="tooltip" data-placement="left" title="日间模式">
                    <i class="mode-ico iconfont icon-night"></i>
                </a>
                
            </div>
            <div class="footer-inner">
                <div class="footer-text">本站内容源自互联网，如有内容侵犯了你的权益，请联系删除相关内容，联系邮箱：jackxiazhou@yeah.net <br/>© 2023 - 2024 By <a href="https://github.com/shenweiyan/WebStack-Hugo">WebStack-Hugo</a> | <a href="https://www.bioitee.com/">Bio IT 爱好者</a> | <a href="http://beian.miit.gov.cn/">京ICP备17039180号-1</a><br/></div>
            </div>
        </footer>
    </div>
</div>


<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-mini.js' id='appmini-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background-image", "url(assets\/images\/bg-dna.jpg)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background-image", "url(assets\/images\/bg-dna.jpg)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background-image", "url(assets\/images\/bg-dna.jpg)")
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>
</body>
</html>

